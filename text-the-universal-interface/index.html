<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Chatbot-Entwicklung</title>
  <link rel="stylesheet" href="style.css">
</head>


  

<body>

  <header>
    <h1><a href="../index.html#projects" class="back-button">← Back</a>
      Universal Interface</h1>
  
  
  

  </header>

  <main>


    <div class="intro-text">
      <div class="intro-text-inner">
        <span class="task-label">Task</span>
       <p> Create a text-based web project that interacts with users via a large language model.
         </p>
    </div>
  </div>

  <section>
    
    <h3>Briefing</h3>

    <p> 
      In this assignment, we learned how to create web applications using large language models. The whole thing was supposed to be implemented in a playful way, and the final product did not necessarily have to be practical, but rather creative. As inputs, anything could be used, such as texts, images, geodata, or other data. It was mainly about trying out different input modalities first and learning the basics of how to work with the model.
       </p>

   <p> 

      </p>
    <h3>Concept</h3>
    
    <p> 
      My idea for this project was to be able to tell the chatbot what you want to see visually and the website would then be redesigned accordingly. Afterwards, you could copy the generated code from it. I thought the idea was very good because I had not seen it anywhere before.
    </p>

    <p> 
      In the course of the development process, however, I then had to learn that such websites already exist, and I decided to expand the concept and add a learning option, where the user can learn how the individual changes are implemented.
    </p>

    <p> 
      Since with my website you cannot really implement complex ideas anyway, in theory it would rather serve to give small support to people who are just starting to program.
    </p>


    
   
</section>

    <section>
      <h2>Version 1</h2>
      <iframe src="version 1/index.html" class="iframe" loading="lazy"></iframe>

      
      
      <h3>Grundstruktur und Ziel der Anwendung</h3>
      
    
      <ul>
        <li>Die App bietet ein Eingabefeld, über das Nutzer natürliche Sprachbefehle eingeben können („Was soll sich ändern?“).</li>
        <li>Diese Befehle werden an eine API geschickt (GPT-ähnlich), die als Antwort JavaScript-Code liefert.</li>
        <li>Dieser Code wird dann dynamisch im Browser ausgeführt.</li>
        <li>Dabei verändert der Code den DOM innerhalb von #content oder fügt CSS in #dynamic-styles ein.</li>
      </ul>

      <h3>Ausführen von Benutzereingaben</h3>
      <pre><code>
        async function onRun() {
          const userInput = input.value.trim();
          if (!userInput) return;
          // ...
        }
      </code></pre>
    
      <ul>
        <li>Diese Funktion verarbeitet die Eingabe des Nutzers und führt den daraus generierten JavaScript-Code live auf der Webseite aus.</li>
        
      </ul>
      
      <h3>Speichern von Zuständen (Undo-Funktion)</h3>
      <pre><code>
        function saveHistory() {
          history.push(content.innerHTML);
        }
      </code></pre>
    
      <ul>
        <li>Jeder durchgeführte Befehl speichert den vorherigen DOM-Zustand.</li>
        <li>Mit undo() wird der vorherige HTML-Zustand aus history wiederhergestellt.</li>
        <li>Zusätzlich wird die letzte ausgeführte JS-Anweisung zurückgespielt.</li>
      </ul>
      
      
      
      
      <h3>Ausführung des Codes </h3>
      <pre><code>
      eval(code);
      </code></pre>
    
      <ul>
        <li>Der zurückgegebene Code wird mit eval() im Browser ausgeführt.</li>
        </ul>

        <h3>Sicherheitsmechanismen</h3>
        <pre><code>
     const forbidden = ['outerHTML', 'document.documentElement'];
        </code></pre>
      
        <ul>
          <li>Weil mit eval(code) fremder generierter Code ausführt wird und potenziell gefährlich ist, wird der Code geschützt.</li>
          <li>outerHTML oder document.documentElement können: die gesamte Seite überschreiben, <html> oder <body> zerstören und script-Tags entfernenscript-Tags entfernen</li>
        </ul>


    

</section>




<section>
  <h2>Version 2:</h2>
  <iframe src="version 2/index.html" class="iframe" loading="lazy"></iframe>

  
  
  <h3>Grundänderung</h3>
  
  <ul>
    <li>Eine "Lehrer"-Sprechblasen-Komponente wurde eingeführt, die dem Nutzer vor dem Ausführen einer Änderung mehrere Optionen erklärt.</li>
    <li>Das verbessert die Lernwirkung, Kontrolle und Verständlichkeit für Nutzer.</li>
 
  </ul>



  <h3>KI-Anweisung verbessert</h3>
  <pre><code>
    const messages = [
    {
      role: 'system',
      content: `
  Du bist ein freundlicher Lehrer, der dem Nutzer verschiedene Optionen erklärt, 
bevor er Änderungen an der Webseite macht.
  Antworte immer mit folgendem Format:
  
  EXPLANATION:
  <Deine Erklärung, was passieren soll, in einfachen Worten>
  
  OPTIONS:
  - Option 1: <kurze Beschreibung>
  - Option 2: <kurze Beschreibung>
  - Option 3: <kurze Beschreibung>
    ...
  }

  </code></pre>

  <ul>
    <li>Strukturierte und pädagogische Kommunikation</li>
    <li>Vorgabe eines fixen Antwortformats</li>
   
  </ul>
  
  
  <h3>Verarbeitung mehrerer Codeblöcke</h3>
  <pre><code>
  const codeMatches = [...reply.matchAll(/```js\s*([\s\S]+?)\s*```/g)];

  </code></pre>

  <ul>
    <li>Da die KI jetzt mehrere Codeblöcke für verschiedene Optionen liefert, kann es passieren, dass mehrere passende Stellen im Text gefunden werden</li>
    <li>Durch matchAll() können mehrere js ...-Blöcke sauber extrahiert und den Buttons zugeordnet werden</li>
    
  </ul>
  <h3>Lehrerbox & Buttons</h3>
  <pre><code>
    teacher-box 
    .speech-bubble
    .options
    .teacher-buttons
  </code></pre>

  <ul>
    <li>Für die Erklärung und Antwortmöglichkeiten</li>
    
  </ul>

  
  
</section>



<section>
  <h2 class="final-heading">
    <a href="version 3/index.html" target="_blank" class="triangle-link" title="Zur finalen Version">▶</a>
    Final Version:
  </h2>
  <iframe src="version 3/index.html" class="iframe" loading="lazy"></iframe>

  
  <h3>Grundänderung</h3>
 

  <ul>
    <li>Der Lehrer schlägt jetzt mehrere Optionen vor, inklusive Erklärungstext + Code-Snippets.</li>
    <li>Splash-Screen hinzugefügt und kleine Verbesserungen</li>
   
  </ul>
  <h3>KI-Anweisung verbessert</h3>
  <pre><code>
    Du bist ein sakastischer Lehrer, der dem Nutzer verschiedene Optionen erklärt, bevor er Änderungen an der Webseite macht. Für die Änderungen passe den bestehenden Code so an, dass du sie ausführen kannst. Wenn du neue Elemente erzeugst, gib ihnen eine eindeutige id, wie id="blauerBall" oder ähnlich, damit man sie später verändern kann.
    Antworte immer mit folgendem Format:
    
    EXPLANATION:
    <Deine Erklärung, was passieren soll, in einfachen Worten>
    
    OPTIONS:
    - Option 1: <kurze Beschreibung>
    - Option 2: <kurze Beschreibung>
    - Option 3: <kurze Beschreibung>
    ...
  </code></pre>

  <ul>
    <li>Tonfall wurde geändert</li>
    <li>gibt an, dass neu erzeugte Elemente eindeutige ids erhalten sollen</li>
    
  </ul>
  


<h3>Erklärungscode</h3>
  <pre><code>
    const explainBtn = document.getElementById('explain-btn');
    const closeExplanationBtn = document.getElementById('close-explanation-btn');
    
    explainBtn.onclick = async () => {
      ...
    };
  </code></pre>

  <ul>
    <li>Ein "Erklären"-Button, der den aktuell vorgeschlagenen JS-Code verständlich analysieren lässt</li>
    <li>Die KI antwortet strukturiert mit DOM-Beispielen</li>
    
  </ul>
  


<h3>Automatische Erstellung fehlender DOM-Elemente</h3>
  <pre><code>
    function autoCreateMissingElements(code) {
      const idMatches = [...code.matchAll(/getElementById\s*\(\s*['"]([^'"]+)['"]\s*\)/g)];
      const created = new Set();
    ...    
  </code></pre>

  <ul>
    <li>Verhindert Fehler durch fehlende getElementById-Ziele</li>
    <li>Falls das Element fehlt, wird ein &lt;div&gt; mit der ID erzeugt</li>
    
    
  </ul>
  


<h3>Längere Ladehinweis</h3>
  <pre><code>
    setTimeout(..., 7000)
  </code></pre>

  <ul>
    <li>Die Benutzerhinweise bleiben länger sichtbar (7 statt 4 Sekunden).</li>
    
  </ul>
  
</section>


<section>
  <h2>Reflection</h2>
  <p>
    Working on this assignment was exciting but also very challenging. The option to work with an LLM brought so many possibilities to integrate it into websites, which was great. But at the same time, this also came with a certain complexity to balance functionality, usability, and safety.
  </p>

  <p>
    The most difficult part was working with the unpredictability of the AI’s output. It often worked error-free for a long time and then suddenly did not anymore. So it was mainly about adding many restrictions, filters, and safety mechanisms in order to achieve the most stable results possible.
  </p>

  <p>
    It was a step-by-step improvement process and probably the project where I ended up with the most versions, since I kept getting more ideas on how I could further improve the website. In the end, it was important not only to keep the website functional but also to make it user-friendly, which is why I also added a more cartoon-like teacher function, giving the user a sense of interaction.
  </p>
  <p>
    Even though I tried hard to find solutions for all problems, I can imagine that there is always more that could be added or adjusted.
  </p>
 
</section>